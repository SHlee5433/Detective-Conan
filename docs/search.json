[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "어느 요일이 범죄로부터 가장 안전할까?",
    "section": "",
    "text": "2018~2022년 강력/폭력/지능범죄의 요일별 발생 건수 데이터\n\n\n\n\n\n\n가설\n\n\n\n평일이 상대적으로 안전할 것이다.\n\n\n\n\n\n\n\n\n범죄의 정의\n\n\n\n\n강력범죄 : 생명, 신체, 자유에 심각한 위협을 가하는 범죄\n폭력범죄 : 다른 사람에게 신체적 상해를 입히거나 신체적 위협을 가하는 범죄\n지능범죄 : 지적 능력과 계획을 통해 이루어지며, 주로 경제적 이득을 얻기 위한 범죄\n\n\n\n\n\n[데이터 로드]\n\n# 0. 패키지 로드\nimport pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\n# 1. 데이터 파일 불러오기, 원본 데이터 복사하기\n## header: 원본의 두 번째 행 데이터를 열의 이름으로 지정\n## encoding: UnicodeDecodeError 발생으로 한글 표현 가능한 인코딩 방식인 EUC-KR 지정\ndf = pd.read_csv('crime.csv', header = 1, encoding = 'EUC-KR')\ndf.head()\n\n# 2. 원본 데이터 복사하기\n## deepcopy로 원본유지\ncrime = df.copy()\n\n\n\n[변수명 변경]\n\n# 3. 열 이름, 원소 이름 변경\n## 열 이름 변경\n### 강력범죄는 s_, 폭력범죄는 g_, 지능범죄는 i_로 시작하도록 변경\ncrime.columns\ncrime.columns = ['year','day']\\\n                + [i.replace(i, \"s_\"+i) for i in crime.columns[2:10]]\\\n                + [i.replace(i, \"g_\"+i) for i in crime.columns[10:18]]\\\n                + [i.replace(i, \"i_\"+i) for i in crime.columns[18:27]]\n\n## 원소 이름 변경\n## replace(): 요일을 영어로 일괄 변경\ncrime = crime.replace({'월요일':'mon',\n                       '화요일':'tue',\n                       '수요일':'wed',\n                       '목요일':'thu',\n                       '금요일':'fri',\n                       '토요일':'sat',\n                       '일요일':'sun'})\ncrime.head(7)\n\n## reindex(): 행의 순서 바꾸기(일&gt;토에서 월&gt;일로) &gt; 추후 그래프 순서를 위해서 설정\nlen(crime)\ncrime = crime.reindex([1, 2, 3, 4, 5, 6, 0,\n                       8, 9, 10, 11, 12, 13, 7,\n                       15, 16, 17, 18, 19, 20, 14,\n                       22, 23, 24, 25, 26, 27, 21,\n                       29, 30, 31, 32, 33, 34, 28])\ncrime.head(7)\n\n\n\n\n\n\n\n\nyear\nday\ns_살인기수\ns_살인미수등\ns_강도\ns_강간\ns_유사강간\ns_강제추행\ns_기타 강간·강제추행등\ns_방화\n...\ng_손괴\ni_직무유기\ni_직권남용\ni_증수뢰\ni_통화\ni_문서·인장\ni_유가증권인지\ni_사기\ni_횡령\ni_배임\n\n\n\n\n1\n2018\nmon\n40\n74\n120\n698\n113\n2197\n51\n236\n...\n7452\n105\n96\n53\n230\n2202\n20\n45478\n7968\n802\n\n\n2\n2018\ntue\n38\n62\n133\n709\n103\n2263\n48\n263\n...\n7767\n92\n110\n57\n226\n1992\n25\n45020\n7793\n761\n\n\n3\n2018\nwed\n53\n68\n116\n743\n96\n2333\n49\n235\n...\n7681\n92\n110\n69\n208\n1893\n30\n45399\n7922\n725\n\n\n4\n2018\nthu\n41\n76\n117\n646\n99\n2389\n45\n246\n...\n7514\n114\n110\n64\n242\n2710\n32\n45752\n7992\n730\n\n\n5\n2018\nfri\n54\n67\n101\n699\n99\n2547\n55\n212\n...\n8591\n103\n104\n61\n212\n1991\n58\n46698\n8817\n790\n\n\n6\n2018\nsat\n29\n69\n108\n892\n139\n2760\n59\n243\n...\n9200\n36\n40\n21\n42\n829\n15\n22158\n7819\n288\n\n\n0\n2018\nsun\n54\n72\n126\n906\n127\n2564\n49\n256\n...\n8479\n39\n33\n22\n34\n673\n17\n19524\n6802\n248\n\n\n\n\n7 rows × 27 columns\n\n\n\n\n\n[파생변수 추가]\n\n# 4. 파생변수 추가\n## 범죄별 건수 합계 및 총 범죄 건수 합계 파생변수\ncrime = crime.assign(\n    total_s = crime.iloc[:, 2:10].sum(axis = 1),\n    total_g = crime.iloc[:, 10:18].sum(axis = 1),\n    total_i = crime.iloc[:, 18:27].sum(axis = 1),\n    total = crime.iloc[:, 2:27].sum(axis = 1))\ncrime.head()\n\n## 평일/주말 구분 라벨 파생변수\n### 평일: 월~금, 주말: 토~일\ncrime['day_label'] = np.where(crime['day'].isin(['mon', 'tue', 'wed', 'thu', 'fri']), \\\n                                                 'week', 'weekend')\ncrime.head(7)\n\n\n\n\n\n\n\n\nyear\nday\ns_살인기수\ns_살인미수등\ns_강도\ns_강간\ns_유사강간\ns_강제추행\ns_기타 강간·강제추행등\ns_방화\n...\ni_문서·인장\ni_유가증권인지\ni_사기\ni_횡령\ni_배임\ntotal_s\ntotal_g\ntotal_i\ntotal\nday_label\n\n\n\n\n1\n2018\nmon\n40\n74\n120\n698\n113\n2197\n51\n236\n...\n2202\n20\n45478\n7968\n802\n3529\n37497\n56954\n97980\nweek\n\n\n2\n2018\ntue\n38\n62\n133\n709\n103\n2263\n48\n263\n...\n1992\n25\n45020\n7793\n761\n3619\n39345\n56076\n99040\nweek\n\n\n3\n2018\nwed\n53\n68\n116\n743\n96\n2333\n49\n235\n...\n1893\n30\n45399\n7922\n725\n3693\n38608\n56448\n98749\nweek\n\n\n4\n2018\nthu\n41\n76\n117\n646\n99\n2389\n45\n246\n...\n2710\n32\n45752\n7992\n730\n3659\n38576\n57746\n99981\nweek\n\n\n5\n2018\nfri\n54\n67\n101\n699\n99\n2547\n55\n212\n...\n1991\n58\n46698\n8817\n790\n3834\n41040\n58834\n103708\nweek\n\n\n6\n2018\nsat\n29\n69\n108\n892\n139\n2760\n59\n243\n...\n829\n15\n22158\n7819\n288\n4299\n47133\n31248\n82680\nweekend\n\n\n0\n2018\nsun\n54\n72\n126\n906\n127\n2564\n49\n256\n...\n673\n17\n19524\n6802\n248\n4154\n45412\n27392\n76958\nweekend\n\n\n\n\n7 rows × 32 columns\n\n\n\n\n\n[범죄별, 평일/주말별 건수 합계 그래프]\n\n# 5. (1)발생 건수 합계 기준 그래프\n## 연도 기준 범죄별 건수 합계\n### 그래프 설정\nplt.rcParams.update({'font.family':'Malgun Gothic','font.size' : 10})\nplt.figure(figsize = (8, 6))\n\n### 집단별 합계표 생성\nyear_total = crime.groupby('year')\\\n                  .agg(강력범죄=('total_s','sum'),\n                       폭력범죄=('total_g','sum'),\n                       지능범죄=('total_i','sum'))\n\n### 그래프 생성                       \nyear_total.plot.barh(stacked = True)\nplt.xlabel(\"건수\")\nplt.ylabel(\"연도\")\nplt.title(\"각 범죄 발생 건수 비율 그래프\")\nplt.show()\nplt.clf()\n\n## 평일/주말 기준 건수 합계\n### 평일/주말별 건수 합계표 생성\nweek_end = crime.groupby('day_label', as_index = False) \\\n                .agg(total=('total', 'sum'))\n\n### 그래프 생성                \nsns.barplot(data = week_end, x = 'day_label', y = 'total', hue = 'day_label')\nplt.xlabel(\"평일/주말\")\nplt.ylabel(\"건수(백만)\")\nplt.title(\"평일/주말별 범죄 발생 건수 그래프\")\nplt.show()\nplt.clf()\n\n&lt;Figure size 768x576 with 0 Axes&gt;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;Figure size 672x480 with 0 Axes&gt;\n\n\n\n\n\n\n\n\n위 그래프의 한계\n\n\n\n\n각 범죄별 발생 건수의 볼륨 차이, 평일(5일)/주말(2일) 일수 차이 확인\n\n따라서, 합계로 비교하는데 오류가 있다는 판단\n\n\n\n\n\n\n[범죄별 요일별 건수 비율 그래프]\n\n# 5. (2)연도별 범죄 발생 비율 파생변수 추가\n## pd.options.display.float_format : 소수점 둘째 자리까지만 보이도록 설정\npd.options.display.float_format = '{:.2f}'.format\n\nfor i in [\"_s\", \"_g\" ,\"_i\" ,\"\"]:\n    for j in range(2018, 2023):\n        crime.loc[crime['year'] == j, 'total'+ i +'_year'] = sum(crime.loc[crime['year'] == j,'total' + i])\n    crime['ratio'+ i +'_day'] = crime['total' + i] / crime['total'+ i +'_year'] * 100\n    \ncrime.head(7)\n\n\n\n\n\n\n\n\nyear\nday\ns_살인기수\ns_살인미수등\ns_강도\ns_강간\ns_유사강간\ns_강제추행\ns_기타 강간·강제추행등\ns_방화\n...\ntotal\nday_label\ntotal_s_year\nratio_s_day\ntotal_g_year\nratio_g_day\ntotal_i_year\nratio_i_day\ntotal_year\nratio_day\n\n\n\n\n1\n2018\nmon\n40\n74\n120\n698\n113\n2197\n51\n236\n...\n97980\nweek\n26787.00\n13.17\n287611.00\n13.04\n344698.00\n16.52\n659096.00\n14.87\n\n\n2\n2018\ntue\n38\n62\n133\n709\n103\n2263\n48\n263\n...\n99040\nweek\n26787.00\n13.51\n287611.00\n13.68\n344698.00\n16.27\n659096.00\n15.03\n\n\n3\n2018\nwed\n53\n68\n116\n743\n96\n2333\n49\n235\n...\n98749\nweek\n26787.00\n13.79\n287611.00\n13.42\n344698.00\n16.38\n659096.00\n14.98\n\n\n4\n2018\nthu\n41\n76\n117\n646\n99\n2389\n45\n246\n...\n99981\nweek\n26787.00\n13.66\n287611.00\n13.41\n344698.00\n16.75\n659096.00\n15.17\n\n\n5\n2018\nfri\n54\n67\n101\n699\n99\n2547\n55\n212\n...\n103708\nweek\n26787.00\n14.31\n287611.00\n14.27\n344698.00\n17.07\n659096.00\n15.73\n\n\n6\n2018\nsat\n29\n69\n108\n892\n139\n2760\n59\n243\n...\n82680\nweekend\n26787.00\n16.05\n287611.00\n16.39\n344698.00\n9.07\n659096.00\n12.54\n\n\n0\n2018\nsun\n54\n72\n126\n906\n127\n2564\n49\n256\n...\n76958\nweekend\n26787.00\n15.51\n287611.00\n15.79\n344698.00\n7.95\n659096.00\n11.68\n\n\n\n\n7 rows × 40 columns\n\n\n\n\n# 5. (3)연도/요일별 범죄 발생 비율 변화 그래프\n## 연도/요일별 범죄 발생 비율표 생성\nratio_year_day = crime.iloc[:, [0, 1, -7, -5, -3, -1]]\nratio_year_day.head(7)\n\n## 강력범죄 연도/요일별 범죄 발생 비율 변화 그래프\n### plt.xticks() : x축의 범위를 2018~2022로 설정\nsns.lineplot(data = ratio_year_day, x = 'day', y = 'ratio_s_day', hue = 'year')\nplt.xlabel(\"요일\")\nplt.ylabel(\"비율(%)\")\nplt.title(\"강력범죄 요일별 범죄율 비교 그래프\")\nplt.show()\nplt.clf()\n\n## 폭력범죄 연도/요일별 범죄 발생 비율 변화 그래프\nsns.lineplot(data = ratio_year_day, x = 'day', y = 'ratio_g_day', hue = 'year')\nplt.xlabel(\"요일\")\nplt.ylabel(\"비율(%)\")\nplt.title(\"폭력범죄 요일별 범죄율 비교 그래프\")\nplt.show()\nplt.clf()\n\n## 지능범죄 연도/요일별 범죄 발생 비율 변화 그래프\nsns.lineplot(data = ratio_year_day, x = 'day', y = 'ratio_i_day', hue = 'year')\nplt.xlabel(\"요일\")\nplt.ylabel(\"비율(%)\")\nplt.title(\"지능범죄 요일별 범죄율 비교 그래프\")\nplt.show()\nplt.clf()\n\n## 전체 범죄 연도/요일별 범죄 발생 비율 변화 그래프\nsns.lineplot(data = ratio_year_day, x = 'day', y = 'ratio_day', hue = 'year')\nplt.xlabel(\"요일\")\nplt.ylabel(\"비율(%)\")\nplt.title(\"전체 범죄 요일별 범죄율 비교 그래프\")\nplt.show()\nplt.clf()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n&lt;Figure size 672x480 with 0 Axes&gt;\n\n\n\n\n\n\n\n\n위 그래프의 한계\n\n\n\n\n범죄별 그래프로 각 범죄의 요일별 발생 비율은 파악할 수 있으나,\n\n지능범죄의 주말 발생 건수가 현저히 낮아 전체 그래프에서 왜곡이 발생\n\n\n따라서, 연도 기준으로 데이터를 비교하는데 오류가 있다는 판단\n\n\n\n\n\n\n[요일 기준 범죄별 비율 비교 그래프]\n\n# 6. 요일별 전체 범죄 발생 비율 그래프\n## 요일별 전체 범죄 발생 비율표 생성\ntotal_day = crime.groupby('day') \\\n                 .agg(total_s = ('total_s', 'sum'),\n                      total_g = ('total_g', 'sum'),\n                      total_i = ('total_i', 'sum'),\n                      total = ('total', 'sum'))\n\ntotal_day = total_day.assign(\n    강력범죄 = lambda x: x['total_s'] / sum(x['total_s']) * 100,\n    폭력범죄 = lambda x: x['total_g'] / sum(x['total_g']) * 100,\n    지능범죄 = lambda x: x['total_i'] / sum(x['total_i']) * 100,\n    총_범죄율 = lambda x: x['total'] / sum(x['total']) * 100)\n\ntotal_day = total_day.reindex(index=['mon', 'tue', 'wed', 'thu', 'fri', 'sat', 'sun'])\n\nratio_total_day = total_day.iloc[:, 4:]\nratio_total_day\n\n## 요일별 전체 범죄 발생 비율 그래프 생성\nsns.lineplot(data = ratio_total_day)\nplt.xlabel(\"요일\")\nplt.ylabel(\"비율(%)\")\nplt.title(\"요일 기준 범죄율 비교 그래프\")\nplt.show()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n결론\n\n\n\n\n강력범죄/폭력범죄는 가설에 성립하지만, 지능범죄는 반대의 결과가 도출되었다.\n\n따라서, 강력범죄는 화요일/폭력범죄는 월요일/지능범죄는 일요일이 가장 안전하다.\n\n\n\n\n\n\n\n\n\n\n생각해볼 점\n\n\n\n지능범죄가 평일에 많이 발생하는 이유는, 공공기관/기업 업무 시간에 이루어져야 하는 행위가 많기 때문이라고 추측된다.\n\n\n\n\n\n\n\n\n분석 발전 방향\n\n\n\n\n데이터 추가\n\n범죄 발생 시간 : 특정 요일의 어느 시간대에 범죄가 주로 발생하는지 분석\n사회적/경제적 요인 : 실업률, 소득 수준, 인구 밀도 등 사회적/경제적 요인으로 차이가 있는지 분석\n이벤트/축제 정보 : 특정 요일과 기간에 개최된 이벤트, 축제, 공휴일 등의 요인으로 차이가 있는지 분석"
  }
]